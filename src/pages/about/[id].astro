---
import SingleViewLayout from '../../layouts/SingleViewLayout.astro'
import {fetchArtistsData} from '../../js/supabase.js'

export async function getStaticPaths() {
  const artists = await fetchArtistsData()

  return artists.map((artist) => ({
    params: {id: artist.id},
    props: {artist},
  }))
}

const {artist} = Astro.props

console.log(artist.id)
---

<SingleViewLayout
  name={artist.artist_name}
  image={artist.artist_image}
  age={artist.artist_age}
  about={artist.artist_info}
/>
